<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-x32.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-x16.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="google-site-verification" content="veaTBtqt4ArdFO7yL4lECMYJsOeSwdptb1k8vJJBzMA"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://lyreal666.com").hostname,root:"/",scheme:"Pisces",version:"7.7.1",exturl:!0,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!0,style:"default"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="ç»§ ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸€ï¼‰ï¼šdotfiles ä»‹ç»äº†ä¸€äº›æœ€å…ˆé…ç½®çš„ dotfilesï¼Œæœ¬ç¯‡å°†ç»§ç»­ä»‹ç» lint å·¥å…· eslintï¼Œstylelintï¼Œä»£ç æ ¼å¼åŒ–å·¥å…· prettierï¼Œç”¨ husky + lint-staged æ¥å®ç°æ¯æ¬¡ commit æ—¶åª lint ä¿®æ”¹è¿‡çš„ä»£ç ï¼Œä»¥åŠä½¿ç”¨ commitlint æ¥è§„èŒƒåŒ– commit messageã€‚é¡¹ç›®åœ°å€"><meta property="og:type" content="article"><meta property="og:title" content="ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆäºŒï¼‰ï¼šlinters å’Œ formatter"><meta property="og:url" content="https://lyreal666.com/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9Alinters-%E5%92%8C-formatter/index.html"><meta property="og:site_name" content="ä½™è…¾é–çš„åšå®¢"><meta property="og:description" content="ç»§ ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸€ï¼‰ï¼šdotfiles ä»‹ç»äº†ä¸€äº›æœ€å…ˆé…ç½®çš„ dotfilesï¼Œæœ¬ç¯‡å°†ç»§ç»­ä»‹ç» lint å·¥å…· eslintï¼Œstylelintï¼Œä»£ç æ ¼å¼åŒ–å·¥å…· prettierï¼Œç”¨ husky + lint-staged æ¥å®ç°æ¯æ¬¡ commit æ—¶åª lint ä¿®æ”¹è¿‡çš„ä»£ç ï¼Œä»¥åŠä½¿ç”¨ commitlint æ¥è§„èŒƒåŒ– commit messageã€‚é¡¹ç›®åœ°å€"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://i.loli.net/2020/02/03/aWBruH69SoGDET5.png"><meta property="og:image" content="https://i.loli.net/2020/02/02/iRsYKELCtXvyz9k.png"><meta property="og:image" content="https://i.loli.net/2020/02/20/1X387zS5GgclEVo.png"><meta property="og:image" content="https://i.loli.net/2020/02/20/H1g5SiBMrslOI7Q.png"><meta property="og:image" content="https://i.loli.net/2020/02/03/EXeHDFAjzxTS1mi.png"><meta property="og:image" content="https://i.loli.net/2020/02/20/Tx3Z1CXS4BLHqmF.png"><meta property="og:image" content="https://i.loli.net/2020/02/03/XKgBvifDF8Wch7R.png"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/2/3/1700a62c2b0044e3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><meta property="og:image" content="https://i.loli.net/2020/02/14/OcsuXR5CMaxlo41.png"><meta property="article:published_time" content="2020-02-02T10:27:00.000Z"><meta property="article:modified_time" content="2020-04-03T13:33:45.308Z"><meta property="article:author" content="ä½™è…¾é–"><meta property="article:tag" content="eslint"><meta property="article:tag" content="stylelint"><meta property="article:tag" content="lint-staged"><meta property="article:tag" content="commitlint"><meta property="article:tag" content="prettier"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.loli.net/2020/02/03/aWBruH69SoGDET5.png"><link rel="canonical" href="https://lyreal666.com/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9Alinters-%E5%92%8C-formatter/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆäºŒï¼‰ï¼šlinters å’Œ formatter | ä½™è…¾é–çš„åšå®¢</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="ä½™è…¾é–çš„åšå®¢" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">ä½™è…¾é–çš„åšå®¢</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-fw fa-link"></i>å‹é“¾</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="æœç´¢..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://lyreal666.com/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9Alinters-%E5%92%8C-formatter/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="ä½™è…¾é–"><meta itemprop="description" content="æ€»ç»“å’Œåˆ†äº«æˆ‘çš„æ‰€å­¦æ‰€æ€"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="ä½™è…¾é–çš„åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆäºŒï¼‰ï¼šlinters å’Œ formatter</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2020-02-02 18:27:00" itemprop="dateCreated datePublished" datetime="2020-02-02T18:27:00+08:00">2020-02-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-03 21:33:45" itemprop="dateModified" datetime="2020-04-03T21:33:45+08:00">2020-04-03</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">å‰ç«¯</span> </a></span></span><span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span> <span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>ç»§ <a href="https://lyreal666.com/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Adotfiles/">ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸€ï¼‰ï¼šdotfiles</a> ä»‹ç»äº†ä¸€äº›æœ€å…ˆé…ç½®çš„ dotfilesï¼Œæœ¬ç¯‡å°†ç»§ç»­ä»‹ç» lint å·¥å…· <code>eslint</code>ï¼Œ<code>stylelint</code>ï¼Œä»£ç æ ¼å¼åŒ–å·¥å…· <code>prettier</code>ï¼Œç”¨ <code>husky</code> + <code>lint-staged</code> æ¥å®ç°æ¯æ¬¡ commit æ—¶åª lint ä¿®æ”¹è¿‡çš„ä»£ç ï¼Œä»¥åŠä½¿ç”¨ <code>commitlint</code> æ¥è§„èŒƒåŒ– commit messageã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RqeDY2Ni9yZWFjdC10eXBlc2NyaXB0LWJvaWxlcnBsYXRl" title="https://github.com/tjx666/react-typescript-boilerplate">react-typescript-boilerplate<i class="fa fa-external-link"></i></span></p><a id="more"></a><h2 id="eslint"><a href="#eslint" class="headerlink" title="eslint"></a>eslint</h2><blockquote><p>Find and fix problems in your JavaScript code</p></blockquote><p><img data-src="https://i.loli.net/2020/02/03/aWBruH69SoGDET5.png" alt="eslint-react-hooks.png"></p><p>å…¶å®ç¤¾åŒºæœ‰å¾ˆå¤šçš„ lint å·¥å…·ï¼Œä¾‹å¦‚ <code>eslint</code>, <code>stylelint</code>, <code>tslint</code>, <code>htmllint</code>, <code>markdownlint</code> ç­‰ã€‚lint å·¥å…·ä¸€æ–¹é¢å¯ä»¥å¸®åŠ©ç»´æŠ¤å›¢é˜Ÿæˆå‘˜ä¿æŒç»Ÿä¸€ï¼Œè‰¯å¥½çš„ä»£ç é£æ ¼ï¼Œå¦ä¸€é¢å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æµ‹å‡ºä»£ç çš„åå‘³é“ï¼Œé™ä½ bug çš„äº§ç”Ÿçš„å¯èƒ½æ€§ï¼Œæé«˜ä»£ç è´¨é‡ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼š<strong>lint å·¥å…·æœ‰ä¸€å®šçš„æ ¼å¼åŒ–èƒ½åŠ›ï¼Œä½†æ˜¯ä¸»è¦åŠŸèƒ½ä¸æ˜¯è´Ÿè´£æ ¼å¼åŒ–ä»£ç ï¼Œæ ¼å¼åŒ–ä»£ç åº”è¯¥äº¤ç»™ä¸“é—¨çš„æ ¼å¼åŒ–å·¥å…·ã€‚</strong> æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®å°±å°†å‡†å¤‡ä½¿ç”¨ <code>prettier</code> è¿›è¡Œä»£ç æ ¼å¼åŒ–ã€‚</p><p>å› ä¸ºæ˜¯æ‰“ç®—ä½¿ç”¨ TypeScript æ¥ç¼–å†™ reactï¼Œæ‰€ä»¥è¦é€‰æ‹©ä¸€æ¬¾æ”¯æŒ TypeScript çš„ lint å·¥å…·ï¼Œæœ€æµè¡Œçš„æ”¯æŒ TypeScript çš„ lint å·¥å…·æœ‰ä¿©ï¼Œ<code>tslint</code> å’Œ <code>eslint</code>ã€‚å»å¹´ 2019 å¹´ 2 æœˆä»½ <code>tslint</code> å›¢é˜Ÿå°±å®£å¸ƒäº†åºŸå¼ƒ tslintï¼Œè½¬è€Œå°†ç»´æŠ¤ä¸€ç³»åˆ—å°† TypeScript é›†æˆåˆ° <code>ESLint</code> çš„å·¥å…·ã€‚å…·ä½“å¯ä»¥çœ‹è¿™ä¸ª <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BhbGFudGlyL3RzbGludC9pc3N1ZXMvNDUzNA==" title="https://github.com/palantir/tslint/issues/4534">issue<i class="fa fa-external-link"></i></span> å’Œè¿™ç¯‡åšå®¢ï¼š<span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL3BhbGFudGlyL3RzbGludC1pbi0yMDE5LTFhMTQ0YzIzMTdhOQ==" title="https://medium.com/palantir/tslint-in-2019-1a144c2317a9">TSLint in 2019<i class="fa fa-external-link"></i></span>ã€‚</p><p>2020 å¹´æˆ‘è§‰å¾—æ–°é¡¹ç›®æ²¡æœ‰ä»»ä½•ç†ç”±è¿˜å»é€‰æ‹© <code>tslint</code>ï¼Œ<code>eslint</code> çš„ TypeScript æ’ä»¶å·²ç»ç®—æ˜¯æ¯”è¾ƒæˆç†Ÿäº†ï¼Œè™½ç„¶è¿˜æ˜¯æœ‰æŒºå¤šçš„ bugã€‚</p><p>å…¶å®å‰ç«¯ç»å¤§å¤šæ•°æ„å»ºå·¥å…·éƒ½æ˜¯ç”¨ node ç¼–å†™æ¨¡å—æ¥æä¾› APIï¼Œæœ‰äº›ä¹Ÿä¼šæä¾›å‘½ä»¤è¡Œå·¥å…·ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è§£æç”¨æˆ·è¾“å…¥è°ƒç”¨ node APIï¼Œç„¶åè¿˜å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥é…ç½®é€‰é¡¹ï¼Œé›†æˆæ’ä»¶ï¼Œå¹¶ä¸”é…ç½®è¿˜å¯ä»¥é€šè¿‡ npm åŒ…æ¥å…±äº«ã€‚</p><p><code>eslint</code> ä¹Ÿä¸ä¾‹å¤–ï¼Œé…ç½® <code>eslint</code> å»ºè®®ä½¿ç”¨ <code>eslint</code> å‘½ä»¤è¡Œå·¥å…·æä¾›çš„äº¤äº’å¼é…ç½®ç”Ÿæˆå™¨ã€‚å¾ˆå¤šåŒ…æ—¢å¯ä»¥å…¨å±€å®‰è£…ï¼Œä¹Ÿå¯ä»¥æœ¬åœ°å®‰è£…ï¼Œæˆ‘ä»¬é€‰æ‹©æœ¬åœ°å®‰è£…ï¼Œå› ä¸ºä½ æ²¡åŠæ³•ç¡®ä¿åˆ«äººå¼€å‘è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ä¹Ÿå…¨å±€å®‰è£…äº†ï¼Œè€Œä¸”è¿™æ ·è¿˜å¯ä»¥ä¿è¯éƒ½æ˜¯ä½¿ç”¨åŒä¸€ç‰ˆæœ¬ã€‚</p><p>å®‰è£… <code>eslint</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -D å‚æ•°è¡¨ç¤ºå¼€å‘ä¾èµ–</span></span><br><span class="line">yarn add eslint -D</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ <code>eslint</code> è‡ªå¸¦çš„é…ç½®ç”Ÿæˆå™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint --init</span><br></pre></td></tr></table></figure><p><code>npx</code> æ˜¯ npm 5.2 è‡ªå¸¦çš„ä¸€ä¸ªå‘½ä»¤ï¼Œ<code>x</code> å°±æ˜¯å’Œæ–‡ä»¶ç±»å‹æè¿°ç¬¦çš„é‚£ä¸ª <code>x</code> ä¸€æ ·è¡¨ç¤º <code>execute</code> æ‰§è¡Œå˜›ã€‚å¦‚æœæœ¬åœ°å®‰è£…äº†å°±ä¼šç”¨æœ¬åœ°çš„ <code>eslint</code>ï¼Œæ²¡å®‰è£…å°±å»æ‰¾å…¨å±€çš„ï¼Œå…¨å±€å†æ²¡æœ‰å°±åœ¨ä¸´æ—¶ç›®å½•ä¸‹è½½ <code>eslint</code>ï¼Œç”¨å®Œå°±åˆ ã€‚ç”¨èµ·æ¥æ¯” npm scripts è¿˜æ–¹ä¾¿ï¼Œä¼ å‚æ•°ä¸ç”¨åƒ npm scripts ä¸€æ ·è¦åœ¨å‚æ•°å‰åŠ  <code>--</code>ã€‚æ‰§è¡Œä¸Šé¢çš„ <code>eslint</code> åˆå§‹åŒ–å‘½ä»¤åä¼šè¯¢é—®ä½ ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œå…³äºæ¯ä¸€ä¸ªé—®é¢˜çš„è¯¦ç»†è¯´æ˜å¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç«  <span class="exturl" data-url="aHR0cHM6Ly9kZXYudG8vZGV2ZGFtbWFrL3NldHRpbmctdXAtZXNsaW50LWluLXlvdXItamF2YXNjcmlwdC1wcm9qZWN0LXdpdGgtdnMtY29kZS0yYW1m" title="https://dev.to/devdammak/setting-up-eslint-in-your-javascript-project-with-vs-code-2amf">Setting up ESLINT in your JavaScript Project with VS Code<i class="fa fa-external-link"></i></span>ï¼Œè¿™ç¯‡æ–‡ç« è¯´çš„å¾ˆç»†ã€‚</p><ul><li><p>How would you like to use ESLint?</p><p>æˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰æ¡ï¼š<code>To check syntax, find problems, and enforce code style</code>ï¼Œé€‰æ‹©å…¶å®ƒå‡ æ¡å°±ä¸ä¼šé—®æˆ‘ä»¬æ˜¯å¦é€‰æ‹© Googleï¼ŒAirbnb è¿˜æ˜¯ Standard é£æ ¼äº†</p></li><li><p>What type of modules does your project use?</p><p>æˆ‘ä»¬é€‰æ‹© <code>JavaScript modules (import/export)</code>ï¼ŒåŒ…æ‹¬ webpack é…ç½®ç­‰ node è„šæœ¬æˆ‘ä»¬éƒ½å°†ä½¿ç”¨ ts æ¥ç¼–å†™ï¼Œæ‰€ä»¥é€‰æ‹© esm</p></li><li><p>Which framework does your project use?</p><p>æ˜¾ç„¶é€‰æ‹© react</p></li><li><p>Does your project use TypeScript?</p><p>è¿™ä¸€æ­¥ä¸€å®šè¦é€‰ Yï¼Œåªæœ‰å‘Šè¯‰åˆå§‹åŒ–å™¨æˆ‘ä»¬ä½¿ç”¨ TypeScriptï¼Œå®ƒæ‰ä¼šå¸®åŠ©æˆ‘ä»¬é…ç½®å¥½ TypeScript çš„ ESLint parserï¼Œç›¸å…³çš„ pluginsï¼Œ ä»¥åŠå…¶å®ƒé…ç½®</p></li><li><p>Where does your code run?</p><p>è¿™é‡Œæˆ‘ä»¬ browser å’Œ node ä¸¤ä¸ªéƒ½é€‰ä¸Šï¼Œå› ä¸ºæˆ‘ä»¬è¿˜è¦ç¼–å†™ä¸€äº› node ä»£ç </p></li><li><p>How would you like to define a style for your project?</p><p>æˆ‘ä»¬é€‰ç¬¬ä¸€ä¸ª <code>Use a popular style guide</code></p></li><li><p>Which style guide do you want to follow?</p><p>é€‰æ‹© Airbnbï¼ˆçˆ±å½¼è¿ï¼‰çš„ä»£ç é£æ ¼</p></li><li><p>What format do you want your config file to be in?</p><p>æˆ‘ä»¬é€‰æ‹©æœ€çµæ´»çš„é…ç½®æ–¹å¼ï¼šjavascriptï¼Œè™½ç„¶ js æ ¼å¼çš„é…ç½®æ–‡ä»¶æ¯” json æ ¼å¼çš„æ›´çµæ´»ï¼Œä½†æ˜¯ js æ ¼å¼æ²¡æ³•ä½¿ç”¨ VSCode æä¾›çš„ JSON validate åŠŸèƒ½ã€‚</p></li><li><p>Would you like to install them now with npm?</p><p>é€‰æ‹© Yï¼Œç«‹å³å®‰è£…ä¾èµ–ã€‚è™½ç„¶æˆ‘ä»¬ç”¨çš„æ˜¯ yarnï¼Œä¸åº”è¯¥ä½¿ç”¨ npm å®‰è£…ä¾èµ–ï¼Œç”¨ npm å®‰è£…ä¾èµ–è¿˜ä¼šç”Ÿæˆå¯¹æˆ‘ä»¬æ²¡æœ‰ç”¨ <code>package-lock.json</code>ã€‚<code>package.lock.json</code> å’Œ <code>yarn.lock</code> ä¸€æ ·éƒ½æ˜¯ç”¨æ¥é”å®šä¾èµ–ç‰ˆæœ¬çš„ã€‚ä¹‹æ‰€ä»¥è¿™é‡Œé€‰æ‹©ç«‹å³å®‰è£…ä¾èµ–æ˜¯å› ä¸ºä½ å¦‚æœä¸ç«‹å³å®‰è£…ä¾èµ–ï¼Œåé¢ä½ æƒ³å†ç”¨ yarn å®‰è£…ä¾èµ–çš„æ—¶è¿˜è¦å»æŸ¥ä¸€ä¸‹å®‰è£…å“ªå‡ ä¸ªä¾èµ–ï¼Œæˆ‘è§‰å¾—å¾ˆéº»çƒ¦ã€‚</p></li></ul><p>å®‰è£…å®Œä¹‹åï¼ŒæŠŠ <code>node_modules</code>, <code>package-lock.json</code>, <code>yarn.lock</code> éƒ½åˆ æ‰ï¼Œä½¿ç”¨ yarn é‡æ–°å®‰è£…ä¾èµ–ï¼Œå†å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">yarn</span><br><span class="line"><span class="comment"># å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">yarn upgrade --latest</span><br></pre></td></tr></table></figure><p>é€šè¿‡ eslint è‡ªå¸¦çš„é…ç½®ç”Ÿæˆå™¨æˆ‘ä»¬ç”Ÿæˆäº† <code>.eslintrc.js</code> ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¼å¼åŒ–åçš„ .eslintrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  env: &#123;</span><br><span class="line">    browser: <span class="literal">true</span>,</span><br><span class="line">    es6: <span class="literal">true</span>,</span><br><span class="line">    node: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  extends: [<span class="string">'plugin:react/recommended'</span>, <span class="string">'airbnb'</span>],</span><br><span class="line">  globals: &#123;</span><br><span class="line">    Atomics: <span class="string">'readonly'</span>,</span><br><span class="line">    SharedArrayBuffer: <span class="string">'readonly'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  parser: <span class="string">'@typescript-eslint/parser'</span>,</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaFeatures: &#123;</span><br><span class="line">      jsx: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    ecmaVersion: <span class="number">2018</span>,</span><br><span class="line">    sourceType: <span class="string">'module'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [<span class="string">'react'</span>, <span class="string">'@typescript-eslint'</span>],</span><br><span class="line">  rules: &#123;&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç›¸å¯¹äºé TypeScript é¡¹ç›®ï¼Œä½¿ç”¨ <code>@typescript-eslint/parser</code> æ›¿æ¢æ‰äº†é»˜è®¤çš„ parserï¼Œå¹¶æ·»åŠ äº† <code>@typescript-eslint</code> æ’ä»¶ã€‚</p><p>æˆ‘ä»¬å…ˆåšä»¥ä¸‹ä¿®æ”¹ï¼š</p><ul><li><p>æŸ¥çœ‹ <span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvZXNsaW50LWNvbmZpZy1haXJibmI=" title="https://www.npmjs.com/package/eslint-config-airbnb">eslint-config-airbnb<i class="fa fa-external-link"></i></span> çš„è¯´æ˜ï¼Œé‡Œé¢æåˆ°ï¼Œå¦‚æœè¦å¼€å¯ react hooks æ£€æŸ¥ï¼Œéœ€è¦æ·»åŠ  <code>&quot;extends&quot;: &quot;airbnb/hooks&quot;</code> åˆ° <code>.eslintrc.js</code></p></li><li><p>ä¿®æ”¹ <code>parserOptions.ecmaVersion</code> ä¸º 2020ï¼Œäº‰åšæ–°æ—¶ä»£çš„å¼„æ½®å„¿ ğŸ˜‚</p></li><li><p>æŸ¥çœ‹ <span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHR5cGVzY3JpcHQtZXNsaW50L2VzbGludC1wbHVnaW4=" title="https://www.npmjs.com/package/@typescript-eslint/eslint-plugin">@typescript-eslint/eslint-plugin<i class="fa fa-external-link"></i></span> æ–‡æ¡£ï¼Œé‡Œé¢æåˆ°æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ  <code>extends: &#39;plugin:@typescript-eslint/recommended&#39;</code>æ¥å¼€å¯å®ƒæ¨èçš„ä¸€äº› rulesã€‚</p></li><li><p>ä¸ºäº†è®© <code>eslint-plugin-import</code> èƒ½å¤Ÿæ­£ç¡®è§£æ <code>ts</code>, <code>tsx</code>, <code>json</code> åç¼€åï¼Œæˆ‘ä»¬è¿˜éœ€æŒ‡å®šå…è®¸çš„åç¼€åï¼Œæ·»åŠ  <code>setttings</code> å­—æ®µï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line">&#123;</span><br><span class="line">    settings: &#123;</span><br><span class="line">        <span class="string">'import/resolver'</span>: &#123;</span><br><span class="line">            node: &#123;</span><br><span class="line">                <span class="comment">// æŒ‡å®š eslint-plugin-import è§£æçš„åç¼€å</span></span><br><span class="line">                extensions: [<span class="string">'.ts'</span>, <span class="string">'.tsx'</span>, <span class="string">'.js'</span>, <span class="string">'.json'</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸ºäº†è®© <code>eslint-plugin-import</code> èƒ½å¤Ÿæ­£ç¡®è§£æ <code>tsconfig.json</code> ä¸­çš„ <code>paths</code> æ˜ å°„ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… <code>eslint-import-resolver-typescript</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add eslint-import-resolver-typescript -D</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>settings</code> å­—æ®µï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line">&#123;</span><br><span class="line">    settings: &#123;</span><br><span class="line">        <span class="string">'import/resolver'</span>: &#123;</span><br><span class="line">            typescript: &#123;</span><br><span class="line">                <span class="comment">// é…ç½® eslint-import-resolver-typescript è¯»å– tsconfig.json çš„è·¯å¾„</span></span><br><span class="line">                <span class="comment">// ç›®å‰ç”¨ä¸ç€ï¼Œå…ˆæ³¨é‡Šæ‰</span></span><br><span class="line">                <span class="comment">// directory: [resolve('./src/tsconfig.json'), resolve('./scripts/tsconfig.json')],</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æ·»åŠ ä¸€äº›ç¤¾åŒºä¸­ä¼˜ç§€çš„ eslint æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add eslint-plugin-eslint-comments eslint-plugin-promise eslint-plugin-unicorn -D</span><br></pre></td></tr></table></figure><p><span class="exturl" data-url="aHR0cHM6Ly9teXN0aWNhdGVhLmdpdGh1Yi5pby9lc2xpbnQtcGx1Z2luLWVzbGludC1jb21tZW50cy8=" title="https://mysticatea.github.io/eslint-plugin-eslint-comments/">eslint-plugin-eslint-comments<i class="fa fa-external-link"></i></span> ç”¨äº lint eslint æŒ‡ä»¤æ³¨é‡Šï¼Œä¾‹å¦‚æ£€æµ‹å‡ºæ— ç”¨çš„ eslint-disable æ³¨é‡Šã€‚<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hqYW11bmR4L2VzbGludC1wbHVnaW4tcHJvbWlzZQ==" title="https://github.com/xjamundx/eslint-plugin-promise">eslint-plugin-promise<i class="fa fa-external-link"></i></span> æŒ‰ç…§æœ€ä½³å®è·µ lint ä½ çš„ promise ä»£ç ï¼Œ<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9lc2xpbnQtcGx1Z2luLXVuaWNvcm4=" title="https://github.com/sindresorhus/eslint-plugin-unicorn">eslint-plugin-unicorn<i class="fa fa-external-link"></i></span> æ˜¯ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cw==" title="https://github.com/sindresorhus">sindresorhus<i class="fa fa-external-link"></i></span> å¤§ä½¬å¼€å‘çš„ä¸€ä¸ª eslint æ’ä»¶ï¼Œæä¾›äº†å¾ªç¯ä¾èµ–æ£€æµ‹ï¼Œæ–‡ä»¶åå¤§å°å†™é£æ ¼çº¦æŸç­‰éå¸¸å®ç”¨çš„è§„åˆ™é›†åˆã€‚</p><p>åœ¨æˆ‘çš„ä½¿ç”¨ä¸­æˆ‘å‘ç°ï¼Œç›®å‰ <code>eslint-plugin-import</code> å’Œ <code>TypeScript</code> æ­é…è¿˜æ˜¯å­˜åœ¨å¾ˆå¤šçš„ bugï¼Œå…¶ä¸­çš„ä¸€ä¸ªä¸èƒ½å¿çš„ bug å°±æ˜¯<code>import/extensions</code> è¿™ä¸ªè§„åˆ™ä¸èƒ½æ­£ç¡®å¤„ç†æ–‡ä»¶åç¼€åï¼š</p><p><img data-src="https://i.loli.net/2020/02/02/iRsYKELCtXvyz9k.png" alt="import-extension.png"></p><p>å» <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Jlbm1vc2hlci9lc2xpbnQtcGx1Z2luLWltcG9ydC9pc3N1ZXM/dXRmOD0lRTIlOUMlOTMmcT1pcyUzQWlzc3VlK2lzJTNBb3BlbitpbXBvcnQlMkZleHRlbnNpb25zK3R5cGVzY3JpcHQ=" title="https://github.com/benmosher/eslint-plugin-import/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+import%2Fextensions+typescript">eslint-plugin-import<i class="fa fa-external-link"></i></span> github issue æœç´¢å…³é”®å­— <code>import/extensions typescript</code> å¯ä»¥æœåˆ°å¾ˆå¤šç›¸å…³çš„ issuesã€‚ç›®å‰æˆ‘é‡‡ç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¿®æ”¹ <code>import/extension</code> çš„è§„åˆ™é…ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'import/extensions'</span>: [</span><br><span class="line">    <span class="string">'2,</span></span><br><span class="line"><span class="string">    '</span>ignorePackages<span class="string">',</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        ts: '</span>never<span class="string">',</span></span><br><span class="line"><span class="string">        tsx: '</span>never<span class="string">',</span></span><br><span class="line"><span class="string">        json: '</span>never<span class="string">',</span></span><br><span class="line"><span class="string">        js: '</span>never<span class="string">'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">],</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ä¸ªè¦æçš„ bug å°±æ˜¯è¿™ä¸ª issueï¼š <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R5cGVzY3JpcHQtZXNsaW50L3R5cGVzY3JpcHQtZXNsaW50L2lzc3Vlcy80MjA=" title="https://github.com/typescript-eslint/typescript-eslint/issues/420">no-useless-constructor: Cannot read property â€˜bodyâ€™ of null<i class="fa fa-external-link"></i></span>ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç›®å‰åœ¨ eslint æ­é… typescript ç›¸å…³æ’ä»¶æ—¶ï¼Œå¦‚æœ <code>.d.ts</code> å£°æ˜æ–‡ä»¶ä¸­å¦‚æœä½¿ç”¨äº† <code>constructor</code> å°±ä¼šæŠ¥è¿™ä¸ªé”™ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="built_in">module</span> <span class="string">'size-plugin'</span> &#123;</span><br><span class="line">    <span class="keyword">import</span> &#123; Plugin &#125; <span class="keyword">from</span> <span class="string">'webpack'</span>;</span><br><span class="line"></span><br><span class="line">    interface SizePluginOptions &#123;</span><br><span class="line">        writeFile?: boolean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SizePlugin</span> <span class="keyword">extends</span> <span class="title">Plugin</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨äº† constructor å°±æŠ¥é”™ï¼šno-useless-constructor: Cannot read property 'body' of null</span></span><br><span class="line">        <span class="keyword">constructor</span>(options?: SizePluginOptions);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    export = SizePlugin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®å‰æˆ‘é‡‡ç”¨çš„è§£å†³åŠæ³•æ—¶æ˜¯æ·»åŠ ä¸‹é¢ä¸¤ä¸ªè§„åˆ™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rules: &#123;</span><br><span class="line">    <span class="string">'no-useless-constructor'</span>: <span class="string">'off'</span>,</span><br><span class="line">    <span class="string">'@typescript-eslint/no-useless-constructor'</span>: <span class="string">'error'</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>é’ˆå¯¹ <code>.d.ts</code> æ–‡ä»¶æˆ‘ä»¬è¿˜éœ€è¦è¦ç¦ç”¨ä¸€äº›è§„åˆ™ï¼Œæˆ‘ä»¬åç»­ä¼šåœ¨ <code>script</code> æ–‡ä»¶å¤¹ä¸­å®ç°å’Œ webpack ç›¸å…³çš„ node è„šæœ¬ï¼Œé’ˆå¯¹è¿™ä¸ªæ–‡ä»¶å¤¹ä¹Ÿè°ƒæ•´ä¸€äº›è§„åˆ™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line">&#123;</span><br><span class="line">  overrides: [</span><br><span class="line">        &#123;</span><br><span class="line">            files: [<span class="string">'**/*.d.ts'</span>],</span><br><span class="line">            rules: &#123;</span><br><span class="line">                <span class="string">'import/no-duplicates'</span>: OFF,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            files: [<span class="string">'scripts/**/*.ts'</span>],</span><br><span class="line">            rules: &#123;</span><br><span class="line">                <span class="string">'import/no-extraneous-dependencies'</span>: OFF,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®ƒä¸€äº›ä¸ªäººä¹ æƒ¯çš„è§„åˆ™è°ƒæ•´æˆ‘å°±ä¸æäº†ï¼Œè¯»è€…å¯ä»¥ç›´æ¥å»çœ‹æœ€ç»ˆçš„é…ç½®ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RqeDY2Ni9yZWFjdC10eXBlc2NyaXB0LWJvaWxlcnBsYXRlL2Jsb2IvbWFzdGVyLy5lc2xpbnRyYy5qcw==" title="https://github.com/tjx666/react-typescript-boilerplate/blob/master/.eslintrc.js">.eslintrc.js<i class="fa fa-external-link"></i></span>ã€‚</p><p>ç›®å‰è¿™ä¸ªé…ç½®è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å¾ˆå¤š rules ä¼šå’Œ <code>prettier</code> å†²çªï¼Œåé¢æˆ‘ä»¬ä¼šä¸€ä¸€è§£å†³è¿™äº›é—®é¢˜ã€‚</p><h2 id="stylelint"><a href="#stylelint" class="headerlink" title="stylelint"></a>stylelint</h2><blockquote><p>A mighty, modern linter that helps you avoid errors and enforce conventions in your styles</p></blockquote><p><img data-src="https://i.loli.net/2020/02/20/1X387zS5GgclEVo.png" alt="stylelint"></p><p>å¯¹äº stylelintï¼Œæˆ‘ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9ibG9iL21hc3Rlci8uc3R5bGVsaW50cmMuanNvbg==" title="https://github.com/ant-design/ant-design/blob/master/.stylelintrc.json">ant design çš„ stylint é…ç½®<i class="fa fa-external-link"></i></span>ã€‚æ·»åŠ  <code>.stylelintrc.json</code> åˆ°é¡¹ç›®æ ¹è·¯å¾„ï¼Œcopy è¿‡æ¥ç®€å•ä¿®æ”¹ä¸€ä¸‹ï¼Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .stylelintrc.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"extends"</span>: [</span><br><span class="line">        <span class="string">"stylelint-config-standard"</span>,</span><br><span class="line">        <span class="string">"stylelint-config-rational-order"</span>,</span><br><span class="line">        <span class="string">"stylelint-config-prettier"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"plugins"</span>: [</span><br><span class="line">        <span class="string">"stylelint-order"</span>,</span><br><span class="line">        <span class="string">"stylelint-declaration-block-no-ignored-properties"</span>,</span><br><span class="line">        <span class="string">"stylelint-scss"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"rules"</span>: &#123;</span><br><span class="line">        <span class="string">"comment-empty-line-before"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">"declaration-empty-line-before"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">"function-name-case"</span>: <span class="string">"lower"</span>,</span><br><span class="line">        <span class="string">"no-descending-specificity"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">"no-invalid-double-slash-comments"</span>: <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">     <span class="comment">// åŠ  "**/typings/**/*" çš„åŸå› ï¼šhttps://github.com/stylelint/vscode-stylelint/issues/72</span></span><br><span class="line">    <span class="string">"ignoreFiles"</span>: [<span class="string">"node_modules/**/*"</span>, <span class="string">"src/assets/**/*"</span>, <span class="string">"dist/**/*"</span>, <span class="string">"**/typings/**/*"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>src/assets</code> æ–‡ä»¶å¤¹å‡†å¤‡ç”¨æ¥ä¿å­˜ä¸€äº›èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ç¬¬ä¸‰æ–¹çš„ css åº“ï¼Œå¹¶ä¸éœ€è¦ lintã€‚VSCode çš„ stylelint æ’ä»¶ç›®å‰æœ‰ä¸ª bugï¼Œé»˜è®¤å±…ç„¶ä¼š lint <code>.d.ts</code> æ–‡ä»¶ç„¶åæŠ¥é”™ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ·»åŠ äº† <code>&quot;**/typings/**/*&quot;</code> æ¥å¿½ç•¥ <code>.d.ts</code> æ–‡ä»¶ï¼š</p><p><img data-src="https://i.loli.net/2020/02/20/H1g5SiBMrslOI7Q.png" alt="vscode stylint bug"></p><p>æ ¹æ®ä¸Šé¢çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å¯¹åº”çš„ npm åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add stylelint stylelint-config-standard stylelint-config-rational-order stylelint-config-prettier stylelint-order stylelint-declaration-block-no-ignored-properties stylelint-scss -D</span><br></pre></td></tr></table></figure><p>å’Œ eslint ä¸€æ ·ï¼Œä¼šä¸ prettier å­˜åœ¨å†²çªã€‚</p><h2 id="prettier"><a href="#prettier" class="headerlink" title="prettier"></a>prettier</h2><blockquote><p>An opinionated code formatter</p></blockquote><p><code>opinionated</code> å¯ä»¥ç†è§£ä¸º <code>ç‹¬æ–­ä¸“è¡Œ</code>ï¼Œ<code>è‡ªä»¥ä¸ºæ˜¯</code>ï¼Œå…¶å®å°±æ˜¯è¯´è¿™ä¸ªæ ¼å¼åŒ–å™¨ï¼ˆformatterï¼‰ä¸ç»™ç”¨æˆ·åšé€‰æ‹©ï¼Œå°±æŒ‰ç…§ä¸€å¥—ç¤¾åŒºå…±è¯†ï¼Œæœ€ä½³å®è·µï¼Œæœ€å¥½çœ‹çš„çš„ä»£ç é£æ ¼æ¥æ ¼å¼åŒ–ã€‚å…·ä½“è¡¨ç°å°±æ˜¯æä¾›çš„é€‰é¡¹å¾ˆå°‘ï¼Œæˆ‘æ•°äº†ä¸€ä¸‹æ€»å…±åˆšå¥½ 20 ä¸ªé€‰é¡¹ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¾—å®‰è£… <code>prettier</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add prettier -D</span><br></pre></td></tr></table></figure><p>æ·»åŠ  .<code>prettierrc</code> åˆ°é¡¹ç›®æ ¹è·¯å¾„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"trailingComma"</span>: <span class="string">"all"</span>,</span><br><span class="line">    <span class="string">"tabWidth"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">"semi"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"singleQuote"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"endOfLine"</span>: <span class="string">"auto"</span>,</span><br><span class="line">    <span class="string">"printWidth"</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="string">"overrides"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"files"</span>: <span class="string">"*.md"</span>,</span><br><span class="line">            <span class="string">"options"</span>: &#123;</span><br><span class="line">                <span class="string">"tabWidth"</span>: <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•è¯´æ˜ä¸‹ä¸€äº›é€‰é¡¹è¿™æ ·é…ç½®çš„åŸå› ï¼š</p><ul><li><p><code>&quot;trailingComma&quot;: &quot;all&quot;</code>ï¼Œæ”¯æŒåœ¨å‡½æ•°å‚æ•°ä¸­ä¹Ÿæ’å…¥é€—å·</p><p><img data-src="https://i.loli.net/2020/02/03/EXeHDFAjzxTS1mi.png" alt="prettier-trailing-comma.png"></p></li><li><p><code>&quot;semi&quot;: true</code>ï¼Œä¸ªäººä¹ æƒ¯</p></li><li><p><code>&quot;singleQuote&quot;: true,</code>ï¼Œä¸ªäººä¹ æƒ¯ï¼Œå°‘æ•²ä¸€ä¸‹ shift éš¾é“ä¸å¥½å—ï¼Ÿ</p></li><li><p><code>&quot;endOfLine&quot;: &quot;auto&quot;</code>ï¼Œå’Œ <code>editorconfig</code> ä¸€æ ·ï¼ŒæŒ‰ç…§æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ¢è¡Œç¬¦æ¥å°±è¡Œäº†</p></li><li><p><code>&quot;printWidth&quot;: 100</code>ï¼Œæˆ‘è§‰å¾—é»˜è®¤çš„æœ€å¤§è¡Œå®½ 80 å¤ªçŸ­äº†ï¼Œæµªè´¹ç¼–è¾‘å™¨ç©ºé—´</p></li><li><p>ä¹‹æ‰€ä»¥è®¾ç½® markdown æ–‡ä»¶æ ¼å¼åŒ– <code>&quot;tabWidth&quot;: 2</code>ï¼Œæ˜¯ç›®å‰ prettier åœ¨æ ¼å¼åŒ– markdown æ–‡ä»¶æ—¶ï¼Œä¼šåœ¨æ— åºåˆ—è¡¨ä¸­æ’å…¥å¤šä½™çš„ç©ºæ ¼</p><p>æ­£å¸¸çš„æ— åºåˆ—è¡¨åº”è¯¥æ ¼å¼åŒ–æˆï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>1</span><br><span class="line"><span class="bullet">- </span>2</span><br><span class="line"><span class="bullet">- </span>3</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸é…ç½® tabWidth çš„è¯ï¼Œ prettier ä¼šæ ¼å¼åŒ–æˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-   1</span><br><span class="line">-   2</span><br><span class="line">-   3</span><br></pre></td></tr></table></figure><p>å·¨ä¸‘ ğŸ˜¤</p></li></ul><h2 id="linters-å’Œ-prettier-çš„å†²çª"><a href="#linters-å’Œ-prettier-çš„å†²çª" class="headerlink" title="linters å’Œ prettier çš„å†²çª"></a>linters å’Œ prettier çš„å†²çª</h2><p>è¿™éƒ¨åˆ†å†…å®¹å¼ºçƒˆå»ºè®®å…ˆé˜…è¯» <code>prettier</code> å®˜æ–¹æ–‡æ¡£ <span class="exturl" data-url="aHR0cHM6Ly9wcmV0dGllci5pby9kb2NzL2VuL2ludGVncmF0aW5nLXdpdGgtbGludGVycy5odG1s" title="https://prettier.io/docs/en/integrating-with-linters.html">Integrating with Linters<i class="fa fa-external-link"></i></span> éƒ¨åˆ†ï¼Œå®˜æ–¹æ–‡æ¡£å¾€å¾€æ˜¯æ›´æ–°æœ€åŠæ—¶ï¼Œä¹Ÿæ˜¯æœ€æƒå¨çš„ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ lint å·¥å…·æ˜¯ç”¨æ¥æ£€æŸ¥ä»£ç é£æ ¼çš„ï¼Œ prettier æ˜¯ç”¨æ¥æ ¼å¼åŒ–ä»£ç çš„ã€‚æƒ³æƒ³çœ‹ï¼Œå¦‚æœ prettier è®¾ç½®ç¼©è¿›ä¸º 4 ä¸ªç©ºæ ¼ï¼Œè€Œæˆ‘ä»¬é…ç½®çš„ eslint æ˜¯è¦æ±‚ç¼©è¿›ä¸º 2 ä¸ªç©ºæ ¼ï¼Œè¿™è‚¯å®šä¼šå¯¼è‡´æˆ‘ä»¬æ ¼å¼åŒ–ä»£ç ä¹‹åï¼Œeslint ä¼šæŠ¥ç¼©è¿›é”™è¯¯ã€‚</p><p><img data-src="https://i.loli.net/2020/02/20/Tx3Z1CXS4BLHqmF.png" alt="conflict"></p><p>è¿™éƒ¨åˆ†å†…å®¹å°±æ˜¯ä¸ºäº†è§£å†³ linters è§„åˆ™å’Œ prettier çš„å†²çªé—®é¢˜ï¼Œå…¶å®ï¼ŒåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯ç¦ç”¨æ‰é‚£äº›ä¼šå’Œ prettier æ ¼å¼åŒ–èµ·å†²çªçš„è§„åˆ™ã€‚</p><p>å®‰è£… eslint æ’ä»¶ <code>eslint-config-prettier</code>ï¼Œè¿™ä¸ªæ’ä»¶ä¼šç¦ç”¨æ‰€æœ‰ä¼šå’Œ prettier èµ·å†²çªçš„è§„åˆ™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add eslint-config-prettier -D</span><br></pre></td></tr></table></figure><p>æ·»åŠ  <code>&#39;prettier&#39;</code>ï¼Œ<code>&#39;prettier/react&#39;</code>ï¼Œ<code>&#39;prettier/@typescript-eslint&#39;</code> åˆ°<code>extends</code> é…ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line">&#123;</span><br><span class="line">    extends: [</span><br><span class="line">        <span class="string">'airbnb'</span>,</span><br><span class="line">        <span class="string">'airbnb/hooks'</span>,</span><br><span class="line">        <span class="string">'plugin:eslint-comments/recommended'</span>,</span><br><span class="line">        <span class="string">'plugin:import/typescript'</span>,</span><br><span class="line">        <span class="string">'plugin:react/recommended'</span>,</span><br><span class="line">        <span class="string">'plugin:@typescript-eslint/recommended'</span>,</span><br><span class="line">        <span class="string">'plugin:unicorn/recommended'</span>,</span><br><span class="line">        <span class="string">'prettier'</span>,</span><br><span class="line">        <span class="comment">// ä¸“é—¨æ”¯æŒäº† eslint-plugin-react</span></span><br><span class="line">        <span class="string">'prettier/react'</span>,</span><br><span class="line">        <span class="comment">// ä¸“é—¨æ”¯æŒäº† @typescript-eslint/eslint-plugin</span></span><br><span class="line">        <span class="string">'prettier/@typescript-eslint'</span>,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ³¨æ„è¦æŠŠ <code>prettier</code> æ”¾æœ€åé¢ï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½è®© <code>prettier</code> æœ‰æœºä¼šç¦ç”¨å‰é¢æ‰€æœ‰çš„ <code>extends</code> ä¸­é…ç½®çš„ä¼šèµ·å†²çªçš„è§„åˆ™ã€‚</p><p>stylelint ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå…ˆå®‰è£…æ’ä»¶ <code>stylelint-config-prettier</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add stylelint-config-prettier -D</span><br></pre></td></tr></table></figure><p>å†å°† <code>&quot;stylelint-config-prettier&quot;</code> æ·»åŠ åˆ° <code>extends</code> æ•°ç»„æœ€åé¢ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .stylelintrc.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"extends"</span>: [</span><br><span class="line">        <span class="string">"stylelint-config-standard"</span>,</span><br><span class="line">        <span class="string">"stylelint-config-rational-order"</span>,</span><br><span class="line">        <span class="string">"stylelint-config-prettier"</span></span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="lint-staged"><a href="#lint-staged" class="headerlink" title="lint-staged"></a>lint-staged</h2><blockquote><p>Run linters on git staged files</p></blockquote><p><img data-src="https://i.loli.net/2020/02/03/XKgBvifDF8Wch7R.png" alt="git-stage.png"></p><p>æˆ‘ä»¬æ¯æ¬¡æäº¤ä»£ç éƒ½è¦å¯¹ä»£ç å…ˆè¿›è¡Œ lint å’Œæ ¼å¼åŒ–ï¼Œç¡®ä¿å›¢é˜Ÿçš„ä»£ç é£æ ¼ç»Ÿä¸€ã€‚ä¸ºäº†è¾¾åˆ°æ¯æ¬¡ lint å’Œæ ¼å¼åŒ–æ—¶åªå¤„ç†æˆ‘ä»¬ä¿®æ”¹äº†çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ä¿å­˜åœ¨ git stage åŒºï¼ˆæš‚å­˜åŒºï¼‰çš„ä»£ç ã€‚ç¤¾åŒºæ¯”è¾ƒæµè¡Œçš„æ–¹æ¡ˆæœ‰ä¿©ï¼š</p><ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2F6ei9wcmV0dHktcXVpY2s=" title="https://github.com/azz/pretty-quick">pretty-quick<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL29rb25ldC9saW50LXN0YWdlZA==" title="https://github.com/okonet/lint-staged">lint-staged<i class="fa fa-external-link"></i></span></li></ol><p>æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ <code>lint-staged</code>ï¼Œå› ä¸º <code>pretty-quick</code>åŠŸèƒ½å•ä¸€ï¼Œåªæ˜¯æä¾›äº† prettier æ ¼å¼åŒ– stage åŒºä»£ç çš„åŠŸèƒ½ï¼Œæ²¡æ³•é… eslint å’Œ stylelint ä½¿ç”¨ï¼Œè¿˜ä¸èƒ½é€šè¿‡é…ç½®æ–‡ä»¶æ¥é…ç½®ã€‚lint-satged æ›´çµæ´»ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥åŒæ—¶é…ç½® <code>eslint</code>ï¼Œ<code>stylelint</code>ï¼Œ<code>prettier</code>ã€‚</p><p>ä¸ºäº†è¾¾åˆ°åœ¨æˆ‘ä»¬æ¯æ¬¡ commit çš„æ—¶å€™ï¼Œéƒ½è‡ªåŠ¨ lint å’Œæ ¼å¼åŒ–ï¼Œæˆ‘ä»¬éœ€è¦ç»™ git commit æŒ‚ä¸ªé’©å­ï¼Œä½¿ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R5cGljb2RlL2h1c2t5" title="https://github.com/typicode/husky">husky<i class="fa fa-external-link"></i></span> å¯ä»¥å¾ˆè½»æ¾çš„ç»™ git é…ç½®é’©å­ã€‚</p><p>å…ˆå®‰è£… husky å’Œ lint-stagedï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add husky lint-staged -D</span><br></pre></td></tr></table></figure><p>åœ¨ package.json é…ç½® git commit æ—¶çš„é’©å­æ“ä½œ:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"husky"</span>: &#123;</span><br><span class="line">        <span class="string">"hooks"</span>: &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ‰§è¡Œ git commit è°ƒç”¨ lint-staged å‘½ä»¤ï¼Œlint-staged ä¼šè¯»å– package.json ä¸­ lint-staged çš„é…ç½®</span></span><br><span class="line">            <span class="string">"pre-commit"</span>: <span class="string">"lint-staged"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†åœ¨ package.json ä¸­ <code>&quot;ling-staged&quot;</code> å­—æ®µé…ç½® lint-stagedï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"lint-staged"</span>: &#123;</span><br><span class="line">        <span class="comment">// å¯¹äº ts,tsx,js æ–‡ä»¶è°ƒç”¨ eslint</span></span><br><span class="line">        <span class="string">"*.&#123;ts,tsx,js&#125;"</span>: [</span><br><span class="line">            <span class="string">"eslint -c .eslintrc.js"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// å¯¹äº css,less,scss æ–‡ä»¶è°ƒç”¨ stylelint</span></span><br><span class="line">        <span class="string">"*.&#123;css,less,scss&#125;"</span>: [</span><br><span class="line">            <span class="string">"stylelint --config .stylelintrc.json"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// prettier æ”¯æŒå¾ˆå¤šç±»å‹æ–‡ä»¶çš„æ ¼å¼åŒ–</span></span><br><span class="line">        <span class="string">"*.&#123;ts,tsx,js,json,html,yml,css,less,scss,md&#125;"</span>: [</span><br><span class="line">            <span class="string">"prettier --write"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>prettier çš„ â€“write å‚æ•°æ˜¯å¹²å˜›ç”¨çš„å‘¢ï¼Ÿä¸¾ä¸ª ğŸŒ° æ¥è¯´ï¼Œå‘½ä»¤è¡Œè°ƒç”¨ <code>prettier a.js</code> é»˜è®¤åªä¼šè¾“å‡ºæ ¼å¼åŒ–åçš„ä»£ç åˆ°æ§åˆ¶å°ï¼Œä¸ä¼šä¿®æ”¹åŸæ–‡ä»¶ï¼ŒåŠ ä¸Š <code>--write</code> æ‰ä¼šå°†æ ¼å¼åŒ–åçš„ä»£ç å†™åˆ° <code>a.js</code>ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¯èƒ½ä½ ä»¬çœ‹åˆ«äººçš„æ•™ç¨‹æˆ–è€…ä¸€äº›é¡¹ç›®ä¸­ä»–ä»¬é…ç½® <code>lint-staged</code> è¿˜åŠ äº†ä¸€ä¸ª <code>git add</code> æ­¥éª¤ï¼Œç„¶åæ§åˆ¶å°ä¼šæœ‰è­¦å‘Šï¼š</p><blockquote><p>âš  Some of your tasks use <code>git add</code> command.</p></blockquote><p>åŸå› å¾ˆç®€å•ï¼š<strong>lint-staged ä» V10 ç‰ˆæœ¬å¼€å§‹ï¼Œä»»ä½•è¢«ä¿®æ”¹äº†çš„åŸ staged åŒºçš„æ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨ git add</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ·»åŠ  git add ã€‚</p><h2 id="commitlint"><a href="#commitlint" class="headerlink" title="commitlint"></a>commitlint</h2><blockquote><p><code>commitlint</code> helps your team adhering to a commit convention. By supporting npm-installed configurations it makes sharing of commit conventions easy.</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9jb21taXRsaW50LmpzLm9yZy8=" title="https://commitlint.js.org/">commitlint<i class="fa fa-external-link"></i></span> æ˜¯ä¸€ä¸ªç”¨æ¥ lint <strong>commit message</strong> çš„å·¥å…·ã€‚çœ‹å®˜ç½‘çš„ä¾‹å­ï¼š</p><p><img data-src="https://user-gold-cdn.xitu.io/2020/2/3/1700a62c2b0044e3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="commitlint"></p><p>æˆ‘çŸ¥é“æœ‰äº›äººæäº¤ä»£ç å–œæ¬¢ç›´æ¥æ¥ä¸‰ä¸ªç‚¹ <code>...</code>ï¼Œè¿™æ˜¯å¾ˆä¸å¥½çš„ä¹ æƒ¯ï¼Œè¿™æ ·ä½ å°±å®Œå…¨æ²¡æœ‰åˆ©ç”¨åˆ° commit messageï¼Œå¾ˆä¸åˆ©äºé¡¹ç›®ç®¡ç†ã€‚è§„èŒƒåŒ–çš„ç¼–å†™ commit message æœ‰å¾ˆå¤šå¥½å¤„ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬æ£€ç´¢æäº¤å†å²ï¼Œé…åˆ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2cvY29udmVudGlvbmFsLWNoYW5nZWxvZw==" title="https://github.com/conventional-changelog/conventional-changelog">conventional-changelog<i class="fa fa-external-link"></i></span> ç›´æ¥ç”Ÿæˆ changelogï¼Œå…³è” github issue ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>husky</code> + <code>commlint</code> å®ç°åœ¨ commit çš„æ—¶å€™å…ˆæ£€æŸ¥ commit message çš„è§„èŒƒæ€§ï¼Œå¦‚æœä¸ç¬¦åˆè§„èŒƒç›´æ¥ç»ˆæ­¢ commitã€‚</p><p>å®‰è£…éœ€è¦çš„ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add @commitlint/cli @commitlint/config-conventional -D</span><br></pre></td></tr></table></figure><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQGNvbW1pdGxpbnQvY29uZmlnLWNvbnZlbnRpb25hbA==" title="https://www.npmjs.com/package/@commitlint/config-conventional">@commitlint/config-conventional<i class="fa fa-external-link"></i></span> æ˜¯ commitlint å®˜æ–¹æ¨èçš„ä¸€ä¸ª angular é£æ ¼çš„ commitlint é…ç½®ï¼Œæä¾›äº†å°‘é‡çš„ lint è§„åˆ™ï¼Œç±»ä¼¼äº eslint çš„ extendã€‚</p><p>å®ƒé»˜è®¤æ”¯æŒçš„æäº¤ç±»å‹ä¸ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"build"</span>, <span class="string">"ci"</span>, <span class="string">"chore"</span>, <span class="string">"docs"</span>, <span class="string">"feat"</span>, <span class="string">"fix"</span>, <span class="string">"perf"</span>, <span class="string">"refactor"</span>, <span class="string">"revert"</span>, <span class="string">"style"</span>, <span class="string">"test"</span>]</span><br></pre></td></tr></table></figure><p>æ·»åŠ  commlint çš„é…ç½®åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ <code>.commitlintrc.js</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .commitlintrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  extends: [<span class="string">'@commitlint/config-conventional'</span>],</span><br><span class="line">  rules: &#123;</span><br><span class="line">    <span class="string">'type-enum'</span>: [</span><br><span class="line">      <span class="number">2</span>,</span><br><span class="line">      <span class="string">'always'</span>,</span><br><span class="line">      <span class="comment">// æ¯”é»˜è®¤å€¼å¤šäº†ä¸ª depsï¼Œç”¨äºè¡¨ç¤ºä¾èµ–å‡çº§ï¼Œé™çº§ï¼Œæ–°å¢ç­‰æäº¤</span></span><br><span class="line">      [<span class="string">'build'</span>, <span class="string">'ci'</span>, <span class="string">'chore'</span>, <span class="string">'deps'</span>, <span class="string">'docs'</span>, <span class="string">'feat'</span>, <span class="string">'fix'</span>, <span class="string">'perf'</span>, <span class="string">'refactor'</span>, <span class="string">'revert'</span>, <span class="string">'style'</span>, <span class="string">'test'</span>],</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ·»åŠ  git <code>commit-msg</code> é’©å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"husky"</span>: &#123;</span><br><span class="line">        <span class="string">"hooks"</span>: &#123;</span><br><span class="line">            <span class="string">"pre-commit"</span>: <span class="string">"lint-staged"</span>,</span><br><span class="line">            <span class="string">"commit-msg"</span>: <span class="string">"commitlint -c .commitlintrc.js -E HUSKY_GIT_PARAMS"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è°ƒç”¨ <code>commit-msg</code> é’©å­çš„æ—¶å€™ï¼Œç¯å¢ƒå˜é‡ <code>HUSKY_GIT_PARAMS</code> ä¼šè¢«ä¸´æ—¶è®¾ç½®ä¸ºä¿å­˜ commit messsge çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œç„¶å <code>commitlint</code> å°±ä¼šå» lint è¿™ä¸ªæ–‡ä»¶ä¸­çš„ commit messageã€‚</p><p>å¦‚æœä½ æƒ³åœ¨å‘½ä»¤è¡Œä¸­äº¤äº’å¼çš„ç¼–è¾‘ commit messageï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NvbW1pdGl6ZW4vY3otY2xp" title="https://github.com/commitizen/cz-cli">commitizen<i class="fa fa-external-link"></i></span> ï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®å°±ä¸é…äº†ï¼Œä¸»è¦è¿˜æ˜¯è§‰å¾—è¦é…ç½®çš„è¯å°±è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡å»é…ï¼Œæˆ‘ä»¬è¿™ä¸ªé€šç”¨ç›®çš„çš„æ¨¡æ¿é¡¹ç›®å°±ç®—äº†ã€‚æˆ‘çœ‹äº†ä¸€ä¸‹ <code>angular</code> å’Œ <code>vue-next</code> lint commit message çš„åšæ³•ï¼Œå®ƒä»¬ commitlint å’Œ commitizen ä¿©éƒ½æ²¡é…ï¼Œåªæ˜¯åœ¨ git <code>commit-msg</code> æ—¶è°ƒç”¨äº†ä¸‹ node è„šæœ¬æ ¡éªŒ commit message ã€‚</p><p>æˆ‘ä»¬æ¥ç€å†é…ç½®è‡ªåŠ¨ç”Ÿæˆ changelogï¼Œæœ¬åœ°å®‰è£… <code>conventional-changelog-cli</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add conventional-changelog-cli -D</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä¸€ä¸ª npm scriptï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"changelog"</span>: <span class="string">"conventional-changelog -p angular -i CHANGELOG.md -s"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>npm run changelog</code> ç”Ÿæˆ angular é£æ ¼çš„ changelog äº†ï¼Œ<code>conventional-changelog</code> ä¼šè¯»å–æäº¤å†å²ä¸­ fix, feat ç­‰ type çš„ commit message è‡ªåŠ¨ç”Ÿæˆ changelogã€‚</p><p>æˆ‘ä»¬æ¥ç€è®¨è®ºä¸€ä¸ªä½¿ç”¨äº† commilint åå¦‚ä½•æ’å…¥ emoji çš„é—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“ commit message çš„æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•´è¡Œå« header</span></span><br><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">// ç©ºä¸€è¡Œ</span><br><span class="line">&lt;body&gt;</span><br><span class="line">// ç©ºä¸€è¡Œ</span><br><span class="line">&lt;footer&gt;</span><br><span class="line"></span><br><span class="line">// ä¸¾ä¸ªä¾‹å­ï¼ŒæŸæ¬¡æäº¤çš„ commit message æ˜¯ï¼šfeat(component): add component Navbar</span><br><span class="line">// feat æ˜¯ type</span><br><span class="line">// component æ˜¯ scope</span><br><span class="line">// 'add component Navbar' æ˜¯ subject</span><br><span class="line">// è¿™é‡Œæ²¡æœ‰ body å’Œ footer</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“ git emoji çš„æ ¼å¼æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:emoji_string:</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨ä¸‹é¢çš„å¸¦ emoji çš„ commit message æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">':bug: fix: xxx'</span></span><br></pre></td></tr></table></figure><p>commitlint ç­‰å·¥å…·åœ¨è§£æçš„æ—¶å€™åº”è¯¥æ˜¯å°†ç¬¬ä¸€ä¸ªå†’å·ä¹‹å‰çš„å†…å®¹è§£æä¸º typeï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šæŠŠ emoji å·¦è¾¹å†’å·ä¹‹å‰çš„å†…å®¹è§£æä¸º typeï¼Œé‚£è¿™æ ·è§£æçš„è¯ type å°±æ˜¯ç©ºå­—ç¬¦ä¸²äº†ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸Šé¢çš„ commit message æäº¤ä¼šæŠ¥é”™è¯´ä½ æ²¡æœ‰å¡«å†™ typeã€‚</p><p>å¦‚æœä¸ä¿®æ”¹ commilint çš„ type é…ç½®æ˜¯æ— æ³•é€šè¿‡ commitlint çš„ï¼Œè§£å†³åŠæ³•ä¹‹ä¸€æ˜¯æ·»åŠ ä¸€ä¸ª type <code>:bug: fix</code>ï¼Œä½†æ˜¯è¿™æ ·çš„è¯ <code>conventional-changelog-cli</code> ä¸ä¼šå°† commit mesage æå–åˆ° changelogï¼Œå®ƒåªè®¤ <code>fix: xxx</code> ä¸è®¤ <code>:bug: fix: xxx</code>ã€‚å› æ­¤ï¼Œåœ¨å½“å‰é…ç½®ä¸‹ï¼Œæˆ‘ä»¬å¦‚æœè¦æ’å…¥ emojiï¼Œå»ºè®®ä½¿ç”¨ä¸‹å›¾çš„æ–¹å¼ï¼Œè™½ç„¶æˆ‘è§‰å¾—è¿™æ ·ä¸å¥½çœ‹ï¼Œä½†ç›®å‰æ¥è¯´æ˜¯æ¯”è¾ƒæŠ˜ä¸­çš„æ–¹æ¡ˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"chore: :memo: improve docs and config json"</span></span><br></pre></td></tr></table></figure><p><img data-src="https://i.loli.net/2020/02/14/OcsuXR5CMaxlo41.png" alt="commitlint git emoji"></p><h2 id="second-commit"><a href="#second-commit" class="headerlink" title="second commit"></a>second commit</h2><p>æ·»åŠ å‡ ä¸ªå¸¸ç”¨ç”¨äº lint çš„ npm scriptsï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">        <span class="string">"lint"</span>: <span class="string">"yarn run lint-eslint &amp;&amp; yarn run lint-stylelint"</span>,</span><br><span class="line">        <span class="string">"lint-eslint"</span>: <span class="string">"eslint -c .eslintrc.js --ext .ts,.tsx,.js &#123;src,scripts&#125;/**/*.&#123;ts,tsx,js&#125;"</span>,</span><br><span class="line">        <span class="string">"lint-stylelint"</span>: <span class="string">"stylelint --config .stylelintrc.json src/**/*.scss --syntax scss"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘é…ç½® eslint å’Œ stylelint çš„ script æ˜¯ç”¨ <code>å‰ç¼€-å‚æ•°</code> çš„å½¢å¼ï¼Œæœ‰äº›é¡¹ç›®é…ç½®å¸¦å‚æ•°çš„ script åæ˜¯ç”¨ <code>å‰ç¼€:å‚æ•°</code> çš„å½¢å¼ï¼Œä¹Ÿå°±æ˜¯ç”¨å†’å·åšåˆ†éš”ç¬¦ã€‚æˆ‘è§‰å¾—é‚£æ ·ä¸å¥½ï¼Œå› ä¸ºæœ‰äº›å·¥å…·æ”¯æŒ <code>yarn:scriptName</code> çš„å½¢å¼æ¥æ‰§è¡Œ npm scriptsï¼Œä¾‹å¦‚ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2tpbW1vYnJ1bmZlbGR0L2NvbmN1cnJlbnRseQ==" title="https://github.com/kimmobrunfeldt/concurrently">concurrently<i class="fa fa-external-link"></i></span>ã€‚</p><p>å‡è®¾ä½ æœ‰å¤šä¸ª npm scriptsï¼Œåˆ†åˆ«æ˜¯ï¼š<code>yarn:watch-node</code>ï¼Œ<code>yarn:watch-node</code>ï¼Œ<code>yarn:watch-css</code>ï¼Œè¿™ä¸ªå·¥å…·æ”¯æŒä¸€æ¡å‘½ä»¤æ¥å¹¶è¡Œæ‰§è¡Œå®ƒä»¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">concurrently yarn:watch-node yarn:watch-js yarn:watch-css</span><br></pre></td></tr></table></figure><p>é‚£ä½ è¯´å¦‚æœç”¨å†’å·æ¥åšåˆ†éš”ç¬¦ï¼Œé‚£è¦å†™å°±æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">concurrently yarn:watch:node yarn:watch:js yarn:watch:css</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥å°±å¾ˆè¿·ï¼Œä¸äº†è§£çš„äººå¯èƒ½è¿˜ä»¥ä¸ºåé¢çš„å†’å·ä¹Ÿæ˜¯ <code>concurrently</code> çš„å‚æ•°å‘¢ï¼Œ<strong>æ‰€ä»¥è¡¨ç¤ºå¸¦å‚æ•°çš„ npm script ä¸è¦ç”¨å†’å·åšåˆ†éš”ç¬¦</strong>ã€‚</p><p>æœ€åå†æ¥ä¸€å‘ <code>yarn upgarde --latest</code>ï¼Œå…»æˆæ¯å¤©å‡çº§ä¾èµ–çš„å¥½ä¹ æƒ¯ï¼Œé¿å…ä»¥ååŒæ—¶å‡çº§å¾ˆå¤šä¾èµ–å‡ºäº†éƒ½æä¸æ¸…æ¥šæ˜¯å“ªä¸ªä¾èµ–å‡çº§å¯¼è‡´çš„ã€‚ä¸è¿‡å…¬å¸çš„é¡¹ç›®åƒä¸‡åˆ«è¿™æ ·æï¼Œå®¹æ˜“å¯¼è‡´å‡º bug è¿ç»­åŠ ç­ã€‚</p><p>åˆ°è¿™é‡Œï¼Œ<strong>ä»é›¶å¼€å§‹é…ç½® react + typescript</strong> ç³»åˆ—ç¬¬äºŒç¯‡ç®—æ˜¯å·®ä¸å¤šäº†ï¼Œå†ä¸€æ¬¡æäº¤ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit -m <span class="string">'build: integrate eslint, stylelint, prettier, lint-staged, commi</span></span><br><span class="line"><span class="string">tlint'</span></span><br><span class="line"><span class="comment"># ä¸Šæ¬¡ push çš„æ—¶å€™ä½¿ç”¨ -u å‚æ•°å…³è”äº† master åˆ†æ”¯å’Œ github è¿œç¨‹ä»“åº“ï¼Œè¿™é‡Œå°±å¯ä»¥ç›´æ¥ push</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç¯‡åˆ°æ­¤ç»“æŸï¼Œ<a href="https://lyreal666.com/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9Awebpack/">ç¬¬ä¸‰ç¯‡</a>å…³äº webpack é…ç½®çš„æ–‡ç« å°†æ˜¯å››ç¯‡ä¸­å¹²è´§æœ€å¤šï¼Œä¼°è®¡ä¹Ÿæ˜¯æœ€é•¿çš„ä¸€ç¯‡ã€‚å°†ä»‹ç»ä½¿ç”¨ <code>TypeScript</code> æ¥ç¼–å†™ <code>express + webpack devServer ä¸­é—´ä»¶</code> ä½œä¸º devServerï¼Œé›†æˆä¸€äº›å®ç”¨å’Œé…·ç‚«çš„ webpack æ’ä»¶ï¼Œä¼˜åŒ– babel é…ç½®ï¼Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ä¼˜åŒ–ç­‰å†…å®¹ã€‚</p><p>è¦æƒ³äº†è§£æ›´å¤šç»†èŠ‚ï¼Œå»ºè®®ç›´æ¥çœ‹æºç ï¼Œé¡¹ç›®åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RqeDY2Ni9yZWFjdC10eXBlc2NyaXB0LWJvaWxlcnBsYXRl" title="https://github.com/tjx666/react-typescript-boilerplate">react-typescript-boilerplate<i class="fa fa-external-link"></i></span>ã€‚å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰ç”¨ï¼Œä¸å¦¨èµé¢— star ğŸ˜ã€‚å¯¹æœ¬æ–‡å†…å®¹æœ‰ç–‘é—®æˆ–è€…æœ‰ä»€ä¹ˆæ”¹è¿›çš„åœ°æ–¹æ¬¢è¿é€šè¿‡è¯„è®ºå’Œé‚®ä»¶äº¤æµã€‚</p><p>æœ¬æ–‡ä¸ºåŸåˆ›å†…å®¹ï¼Œé¦–å‘äº<span class="exturl" data-url="aHR0cDovL3d3dy5seXJlYWw2NjYuY29tLw==" title="http://www.lyreal666.com/">ä¸ªäººåšå®¢<i class="fa fa-external-link"></i></span>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></div><p style="text-align:center">ï¼ˆå®Œï¼‰</p><footer class="post-footer"><div class="post-tags"><a href="/tags/eslint/" rel="tag"><i class="fa fa-tag"></i> eslint</a> <a href="/tags/stylelint/" rel="tag"><i class="fa fa-tag"></i> stylelint</a> <a href="/tags/lint-staged/" rel="tag"><i class="fa fa-tag"></i> lint-staged</a> <a href="/tags/commitlint/" rel="tag"><i class="fa fa-tag"></i> commitlint</a> <a href="/tags/prettier/" rel="tag"><i class="fa fa-tag"></i> prettier</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Adotfiles/" rel="prev" title="ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸€ï¼‰ï¼šdotfiles"><i class="fa fa-chevron-left"></i> ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸€ï¼‰ï¼šdotfiles</a></div><div class="post-nav-item"><a href="/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-react-typescript%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9Awebpack/" rel="next" title="ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸‰ï¼‰ï¼šwebpack">ä»é›¶å¼€å§‹é…ç½® react + typescriptï¼ˆä¸‰ï¼‰ï¼šwebpack <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><script>window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview">ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#eslint"><span class="nav-number">1.</span> <span class="nav-text">eslint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stylelint"><span class="nav-number">2.</span> <span class="nav-text">stylelint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prettier"><span class="nav-number">3.</span> <span class="nav-text">prettier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linters-å’Œ-prettier-çš„å†²çª"><span class="nav-number">4.</span> <span class="nav-text">linters å’Œ prettier çš„å†²çª</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lint-staged"><span class="nav-number">5.</span> <span class="nav-text">lint-staged</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#commitlint"><span class="nav-number">6.</span> <span class="nav-text">commitlint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#second-commit"><span class="nav-number">7.</span> <span class="nav-text">second commit</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="ä½™è…¾é–" src="/images/avatar.png"><p class="site-author-name" itemprop="name">ä½™è…¾é–</p><div class="site-description" itemprop="description">æ€»ç»“å’Œåˆ†äº«æˆ‘çš„æ‰€å­¦æ‰€æ€</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">23</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95dS10ZW5nLWppbmcvYWN0aXZpdGllcw==" title="çŸ¥ä¹ â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yu-teng-jing&#x2F;activities"><i class="fa fa-fw fa-bookmark"></i>çŸ¥ä¹</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uaW0vdXNlci81YWQwZGNhYTZmYjlhMDI4ZDkzNzk0Yjk=" title="æ˜é‡‘ â†’ https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;5ad0dcaa6fb9a028d93794b9"><i class="fa fa-fw fa-book"></i>æ˜é‡‘</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RqeDY2Ng==" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;tjx666"><i class="fa fa-fw fa-github"></i>GitHub</span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOnl0ajI3MTMxNTE3MTNAZ21haWwuY29t" title="E-Mail â†’ mailto:ytj2713151713@gmail.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 â€“ <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">ä½™è…¾é–</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="æ€»è®¿å®¢é‡"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="æ€»è®¿é—®é‡"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}</script></body></html>